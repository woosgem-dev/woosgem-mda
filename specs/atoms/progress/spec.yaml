$schema: schemas/base/component.schema.yaml

component:
  name: Progress
  category: atom
  complexity: simple
  description: Horizontal progress bar visualizing task completion or score percentage

semantics:
  tag: div
  role: progressbar

attributes:
  variant:
    type: enum
    values: [default, gradient]
    default: default
    description: Visual style variant
  color:
    type: enum
    values: [primary, success, warning, danger, neutral]
    default: primary
    description: Progress bar fill color
  size:
    type: enum
    values: [sm, md, lg]
    default: md
    description: Progress bar height
  value:
    type: number
    default: 0
    min: 0
    description: Current progress value. Clamped between 0 and max
  max:
    type: number
    default: 100
    min: 0
    description: Maximum value
  show-label:
    type: boolean
    default: false
    description: Displays percentage label inside the progress bar fill area

content:
  default:
    description: Custom label content. Overrides default percentage label when provided
    required: false
    type: node
    cardinality: single

states:
  in-progress:
    visual: Fill area proportional to value/max ratio
    behavior: CSS custom property --progress-value set to calculated percentage
    aria: { valuenow: value, valuemin: 0, valuemax: max }
  complete:
    visual: Fill area at 100%
    behavior: Triggered when value >= max
    aria: { valuenow: max, valuemin: 0, valuemax: max }

interactions: {}

accessibility:
  aria:
    role: "progressbar"
    valuenow: "Current clamped value"
    valuemin: "Always 0"
    valuemax: "max attribute value"
  keyboard: {}
  focus: "Not focusable (informational display element)"

visual_mapping:
  class: progress
  data_attributes:
    data-variant:
      strategy: value-mapped
      source: variant
    data-color:
      strategy: value-mapped
      source: color
    data-size:
      strategy: value-mapped
      source: size
    data-show-label:
      strategy: present-when-true
      source: show-label
  inline_style: "--progress-value: {percentage}% (calculated as value/max * 100, clamped 0-100)"
