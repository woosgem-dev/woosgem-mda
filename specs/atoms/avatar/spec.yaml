$schema: schemas/base/component.schema.yaml

component:
  name: Avatar
  category: atom
  complexity: simple
  description: User avatar displaying profile image, initials, or default icon in circle or square shape

semantics:
  tag: div
  role: img

attributes:
  size:
    type: enum
    values: [xs, sm, md, lg, xl]
    default: md
    description: Avatar dimensions
  shape:
    type: enum
    values: [circle, square]
    default: circle
    description: Avatar shape
  src:
    type: string
    default: ""
    description: Profile image URL. Empty string triggers fallback display
  alt:
    type: string
    default: ""
    description: Image alternative text for accessibility
  fallback:
    type: string
    default: ""
    description: Text to display when image is unavailable (initials)

content:
  default:
    description: Fallback content rendered when image load fails or src is empty
    required: false
    type: node
    cardinality: single

states:
  has-image:
    visual: Profile image displayed within the avatar shape
    behavior: Renders img element when src is a valid URL
    aria: {}
  no-image:
    visual: Fallback text or default icon displayed
    behavior: Renders fallback content when src is empty or image load fails
    aria: {}

interactions: {}

accessibility:
  aria:
    label: "Provides user name or description via alt attribute"
    role: "img role conveys image semantics"
  keyboard: {}
  focus: "Not focusable (informational display element)"

visual_mapping:
  class: avatar
  data_attributes:
    data-size:
      strategy: value-mapped
      source: size
    data-shape:
      strategy: value-mapped
      source: shape
    data-has-image:
      strategy: present-when-true
      source: src
