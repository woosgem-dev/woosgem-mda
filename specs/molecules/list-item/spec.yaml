$schema: schemas/base/component.schema.yaml

component:
  name: ListItem
  category: molecule
  complexity: simple
  description: Individual item within a list. Supports static display or interactive selection with hover and click behavior

semantics:
  tag: li
  role: listitem

attributes:
  variant:
    type: enum
    values: [default, interactive]
    default: default
    description: "Behavior type. default renders static content, interactive enables hover and click actions"
  selected:
    type: boolean
    default: false
    description: Selected/active state with visual highlight
  disabled:
    type: boolean
    default: false
    description: Disabled state preventing user interaction
  divider:
    type: boolean
    default: false
    description: Whether to render a bottom separator line

content:
  default:
    description: List item content including text, icons, and auxiliary information
    required: true
    type: node
    cardinality: single

states:
  default:
    visual: Standard appearance
    behavior: Static when variant=default, hover feedback when variant=interactive
    aria: {}
  selected:
    visual: Highlighted background color indicating selection
    behavior: Selected state indication
    aria: { selected: true }
  disabled:
    visual: Reduced opacity
    behavior: All click and keyboard interaction blocked
    aria: { disabled: true }

interactions:
  select:
    triggers: [click, Enter, Space]
    condition:
      all:
        - { attr: variant, eq: interactive }
        - { attr: disabled, eq: false }
    effect: emit
    payload:
      selected: boolean
    description: Select or activate the list item
  hover:
    triggers: [mouseenter]
    condition:
      all:
        - { attr: variant, eq: interactive }
        - { attr: disabled, eq: false }
    effect: emit
    payload: {}
    description: Visual hover feedback on interactive list items

accessibility:
  aria:
    selected: "Set when selected=true"
    disabled: "Set when disabled=true"
  keyboard:
    Enter: "Activate item when variant=interactive"
    Space: "Activate item when variant=interactive"
    ArrowDown: "Move focus to next list item"
    ArrowUp: "Move focus to previous list item"
  focus: Focus ring displayed when variant=interactive and item receives focus

visual_mapping:
  class: list-item
  data_attributes:
    data-variant:
      strategy: value-mapped
      source: variant
    data-state:
      strategy: priority-enum
      priority:
        - { when: { attr: selected, eq: true }, value: selected }
        - { when: { attr: disabled, eq: true }, value: disabled }
      fallback: absent
    data-divider:
      strategy: present-when-true
      source: divider
