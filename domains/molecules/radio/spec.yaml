$schema: schemas/base/component.schema.yaml

component:
  name: Radio
  category: molecule
  complexity: composite
  description: Radio button for single selection within a group. Used together with RadioGroup container for exclusive selection management

semantics:
  tag: button
  role: radio

attributes:
  size:
    type: enum
    values: [sm, md, lg]
    default: md
    description: Radio button size controlling indicator and label dimensions
  color:
    type: enum
    values: [primary, secondary, success]
    default: primary
    description: Color theme for the active/checked state indicator
  checked:
    type: boolean
    default: false
    description: Selected state of the radio button
  disabled:
    type: boolean
    default: false
    description: Disabled state preventing user interaction

content:
  label:
    description: Radio button label text
    required: false
    type: text
    cardinality: single

states:
  unchecked:
    visual: Empty circle indicator displayed
    behavior: Click selects this radio and deselects others in the group
    aria: { checked: false }
  checked:
    visual: Filled circle indicator with color theme applied
    behavior: Remains selected until another radio in the group is chosen
    aria: { checked: true }
  disabled:
    visual: Reduced opacity
    behavior: All click and keyboard interaction blocked
    aria: { disabled: true }
  checked-disabled:
    visual: Filled circle indicator with reduced opacity
    behavior: Interaction blocked but selected state preserved
    aria: { checked: true, disabled: true }

interactions:
  select:
    triggers: [click, Space]
    condition:
      all:
        - { attr: disabled, eq: false }
        - { attr: checked, eq: false }
    effect: emit
    payload:
      value: string
    description: Select this radio button within its group
  navigate:
    triggers: [ArrowUp, ArrowDown, ArrowLeft, ArrowRight]
    condition:
      all:
        - { attr: disabled, eq: false }
    effect: emit
    payload:
      direction: string
    description: Move focus and selection to adjacent radio within the group

accessibility:
  aria:
    checked: "Reflects selection state as true/false"
    disabled: "Set when disabled=true"
  keyboard:
    Space: select
    ArrowDown: "Move to and select next radio in group"
    ArrowRight: "Move to and select next radio in group"
    ArrowUp: "Move to and select previous radio in group"
    ArrowLeft: "Move to and select previous radio in group"
    Tab: "Enter/exit radio group (within group use arrow keys)"
  focus: Focus ring displayed on the focused radio button

visual_mapping:
  class: radio
  data_attributes:
    data-size:
      strategy: value-mapped
      source: size
    data-color:
      strategy: value-mapped
      source: color
    data-state:
      strategy: priority-enum
      priority:
        - { when: { all: [{ attr: checked, eq: true }, { attr: disabled, eq: true }] }, value: checked-disabled }
        - { when: { attr: checked, eq: true }, value: checked }
        - { when: { attr: disabled, eq: true }, value: disabled }
      fallback: absent

composition:
  layout: [RadioGroup]
  rendering:
    strategy: inline
    description: Radio items rendered as direct children of RadioGroup
  communication:
    pattern: context
    shared_state: [disabled, orientation]

  sub_components:
    - name: RadioGroup
      tag: div
      description: Container grouping multiple Radio buttons for exclusive single-selection management
      required: false
      attributes:
        orientation:
          type: enum
          values: [horizontal, vertical]
          default: vertical
          description: Layout direction of radio buttons within the group
        disabled:
          type: boolean
          default: false
          description: Disables all radio buttons in the group
      content:
        default:
          description: Radio component list
          required: true
          type: component-list
          cardinality: multiple
          accepts: [Radio]
      visual_mapping:
        class: radio-group
        data_attributes:
          data-orientation:
            strategy: value-mapped
            source: orientation
      accessibility:
        aria:
          disabled: "Set when disabled=true"
          label: "Requires aria-label or aria-labelledby for group identification"
        keyboard: {}
        focus: "Arrow keys navigate within the group"

control:
  mode: controlled-only
  value:
    type: string
    description: Currently selected radio value within the group
  on_change:
    payload:
      value: string
    description: Fired when a different radio button is selected
