component:
  name: Textarea
  category: molecule
  complexity: simple
  description: Multi-line text input field with configurable resize direction and validation states

semantics:
  tag: textarea
  role: textbox

attributes:
  variant:
    type: enum
    values: [outline, filled]
    default: outline
    description: Visual style variant of the textarea
  size:
    type: enum
    values: [sm, md, lg]
    default: md
    description: Textarea size controlling height and font size
  resize:
    type: enum
    values: [none, vertical, horizontal, both]
    default: vertical
    description: Allowed resize direction for the textarea element
  disabled:
    type: boolean
    default: false
    description: Disabled state preventing user interaction
  error:
    type: boolean
    default: false
    description: Error validation state. Automatically sets aria-invalid

content:
  default:
    description: Text content value of the textarea
    required: false
    type: text
    cardinality: single

states:
  error:
    visual: Border and focus ring change to error color
    behavior: Input remains enabled but displays validation failure
    aria: { invalid: true }
  disabled:
    visual: Reduced opacity, cursor changes to not-allowed, resize disabled
    behavior: Input blocked, focus blocked
    aria: { disabled: true }

interactions:
  input:
    triggers: [keyboard]
    condition:
      all:
        - { attr: disabled, eq: false }
    effect: emit
    payload:
      value: string
    description: Text value changes via keyboard input
  focus:
    triggers: [click, Tab]
    condition:
      all:
        - { attr: disabled, eq: false }
    effect: emit
    payload: {}
    description: Textarea receives focus
  blur:
    triggers: [Tab, click-outside]
    condition:
      all:
        - { attr: disabled, eq: false }
    effect: emit
    payload: {}
    description: Textarea loses focus
  resize:
    triggers: [drag]
    condition:
      all:
        - { attr: disabled, eq: false }
        - not: { attr: resize, eq: none }
    effect: emit
    payload:
      width: number
      height: number
    description: Textarea element resized by user drag

accessibility:
  aria:
    invalid: "Set to true when error=true"
    describedby: "Links to error/help text element"
    label: "Requires associated label element or aria-label"
  keyboard:
    Tab: focus
  focus: Default focus ring displayed

visual_mapping:
  class: textarea
  data_attributes:
    data-variant:
      strategy: value-mapped
      source: variant
    data-size:
      strategy: value-mapped
      source: size
    data-resize:
      strategy: value-mapped
      source: resize
    data-state:
      strategy: priority-enum
      priority:
        - { when: { attr: disabled, eq: true }, value: disabled }
        - { when: { attr: error, eq: true }, value: error }
      fallback: absent

control:
  mode: both
  value:
    type: string
    description: Current text value of the textarea
  default_value:
    type: string
    description: Initial text value for uncontrolled usage
  on_change:
    payload:
      value: string
    description: Fired when textarea value changes
