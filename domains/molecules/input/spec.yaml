component:
  name: Input
  category: molecule
  complexity: simple
  description: Single-line text input field supporting multiple types (text, email, password, etc.) with visual variants and validation states

semantics:
  tag: input
  role: textbox

attributes:
  variant:
    type: enum
    values: [outline, filled, underline]
    default: outline
    description: Visual style variant of the input field
  size:
    type: enum
    values: [sm, md, lg]
    default: md
    description: Input field size controlling height and font size
  error:
    type: boolean
    default: false
    description: Error validation state. Automatically sets aria-invalid="true"
  success:
    type: boolean
    default: false
    description: Success validation state indicator
  disabled:
    type: boolean
    default: false
    description: Disabled state preventing user interaction

content:
  default:
    description: Self-closing element with no content area
    required: false
    type: text
    cardinality: single

states:
  error:
    visual: Border and focus ring change to error color
    behavior: Input remains enabled but displays validation failure
    aria: { invalid: "true" }
  success:
    visual: Border and focus ring change to success color
    behavior: Normal input behavior with success indication
    aria: {}
  disabled:
    visual: Reduced opacity, cursor changes to not-allowed
    behavior: Input blocked, focus blocked
    aria: { disabled: true }

interactions:
  input:
    triggers: [keyboard]
    condition:
      all:
        - { attr: disabled, eq: false }
    effect: emit
    payload:
      value: string
    description: Text value changes via keyboard input
  focus:
    triggers: [click, Tab]
    condition:
      all:
        - { attr: disabled, eq: false }
    effect: emit
    payload: {}
    description: Input field receives focus
  blur:
    triggers: [Tab, click-outside]
    condition:
      all:
        - { attr: disabled, eq: false }
    effect: emit
    payload: {}
    description: Input field loses focus

accessibility:
  aria:
    invalid: "Set to 'true' when error=true"
    describedby: "Links to error/help text element"
    label: "Requires associated label element or aria-label"
  keyboard:
    Tab: focus
  focus: Default focus ring displayed, style varies by variant

visual_mapping:
  class: input
  data_attributes:
    data-variant:
      strategy: value-mapped
      source: variant
    data-size:
      strategy: value-mapped
      source: size
    data-state:
      strategy: priority-enum
      priority:
        - { when: { attr: error, eq: true }, value: error }
        - { when: { attr: success, eq: true }, value: success }
        - { when: { attr: disabled, eq: true }, value: disabled }
      fallback: absent

control:
  mode: both
  value:
    type: string
    description: Current text value of the input field
  default_value:
    type: string
    description: Initial text value for uncontrolled usage
  on_change:
    payload:
      value: string
    description: Fired when input value changes
