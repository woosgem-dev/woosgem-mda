$schema: schemas/base/component.schema.yaml

component:
  name: Tooltip
  category: molecule
  complexity: behavioral
  description: Supplemental information popup displayed on hover, focus, or click relative to a trigger element. Information-only (non-interactive content)

semantics:
  tag: div
  role: tooltip

attributes:
  content:
    type: string
    default: ""
    description: Text content displayed inside the tooltip popup
  position:
    type: enum
    values: [top, bottom, left, right]
    default: top
    description: Tooltip placement relative to the trigger element
  trigger:
    type: enum
    values: [hover, click, focus]
    default: hover
    description: Event type that activates tooltip visibility
  delay:
    type: number
    default: 0
    description: Delay in milliseconds before tooltip appears after trigger activation
  arrow:
    type: boolean
    default: true
    description: Whether to render a directional arrow pointing toward the trigger
  visible:
    type: boolean
    default: false
    description: Controlled visibility state for programmatic show/hide
  disabled:
    type: boolean
    default: false
    description: Disabled state suppressing all trigger events

content:
  default:
    description: Trigger element that the tooltip is attached to
    required: true
    type: node
    cardinality: single

states:
  hidden:
    visual: Tooltip popup not rendered or invisible
    behavior: Awaiting trigger event activation
    aria: {}
  visible:
    visual: Tooltip popup displayed at specified position with optional arrow
    behavior: Trigger release or Escape key hides the tooltip
    aria: { describedby: "Tooltip element ID" }
  disabled:
    visual: Tooltip never appears regardless of trigger events
    behavior: All trigger events ignored
    aria: {}

interactions:
  show:
    triggers: [mouseenter, focus, click]
    condition:
      all:
        - { attr: disabled, eq: false }
        - { attr: visible, eq: false }
    effect: set
    description: Display the tooltip popup based on trigger attribute event type
  hide:
    triggers: [mouseleave, blur, click-outside, Escape]
    condition:
      all:
        - { attr: visible, eq: true }
    effect: set
    description: Hide the tooltip popup

accessibility:
  aria:
    describedby: "Trigger element linked to tooltip ID via aria-describedby when visible"
    role: "tooltip"
    hidden: "Tooltip element uses aria-hidden when not visible"
  keyboard:
    Escape: "Hide tooltip (WCAG 1.4.13 requirement)"
    Tab: "Show tooltip when trigger type is hover or focus"
  focus: Trigger element receives focus; tooltip shown for hover/focus trigger modes

visual_mapping:
  class: tooltip
  data_attributes:
    data-position:
      strategy: value-mapped
      source: position
    data-trigger:
      strategy: value-mapped
      source: trigger
    data-arrow:
      strategy: present-when-true
      source: arrow
    data-visible:
      strategy: present-when-true
      source: visible
    data-disabled:
      strategy: present-when-true
      source: disabled
