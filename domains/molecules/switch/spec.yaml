component:
  name: Switch
  category: molecule
  complexity: simple
  description: Toggle switch for immediate on/off state transitions. Track and thumb elements are CSS-generated with no content slots

semantics:
  tag: button
  role: switch

attributes:
  size:
    type: enum
    values: [sm, md, lg]
    default: md
    description: Switch component size controlling track and thumb dimensions
  color:
    type: enum
    values: [primary, secondary, success]
    default: primary
    description: Color theme applied to the active (checked) track state
  checked:
    type: boolean
    default: false
    description: On/off toggle state
  disabled:
    type: boolean
    default: false
    description: Disabled state preventing user interaction

content:
  default:
    description: Self-contained element with no content slots (track and thumb rendered via CSS pseudo-elements)
    required: false
    type: text
    cardinality: single

states:
  unchecked:
    visual: Track shows inactive color, thumb positioned on the left
    behavior: Click transitions to checked state
    aria: { checked: false }
  checked:
    visual: Track shows active color (color attribute), thumb positioned on the right
    behavior: Click transitions to unchecked state
    aria: { checked: true }
  disabled:
    visual: Reduced opacity
    behavior: All click and keyboard interaction blocked
    aria: { disabled: true }
  checked-disabled:
    visual: Active color track with reduced opacity, thumb on the right
    behavior: Interaction blocked but on state preserved
    aria: { checked: true, disabled: true }

interactions:
  toggle:
    triggers: [click, Enter, Space]
    condition:
      all:
        - { attr: disabled, eq: false }
    effect: toggle
    description: Toggle switch between on and off states

accessibility:
  aria:
    checked: "Reflects checked state as true/false"
    disabled: "Set when disabled=true"
    label: "Requires aria-label or associated label text"
  keyboard:
    Enter: toggle
    Space: toggle
    Tab: "Move focus to/from switch"
  focus: Focus ring displayed around the switch track

visual_mapping:
  class: switch
  data_attributes:
    data-size:
      strategy: value-mapped
      source: size
    data-color:
      strategy: value-mapped
      source: color
    data-state:
      strategy: priority-enum
      priority:
        - { when: { all: [{ attr: checked, eq: true }, { attr: disabled, eq: true }] }, value: checked-disabled }
        - { when: { attr: checked, eq: true }, value: checked }
        - { when: { attr: disabled, eq: true }, value: disabled }
      fallback: absent

control:
  mode: both
  value:
    type: boolean
    description: Current on/off state of the switch
  default_value:
    type: boolean
    description: Initial on/off state for uncontrolled usage
  on_change:
    payload:
      checked: boolean
    description: Fired when switch state toggles
