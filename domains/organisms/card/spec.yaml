$schema: schemas/base/component.schema.yaml

component:
  name: Card
  category: organism
  description: Container that groups related content. Composed of Header, Body, and Footer regions. Supports a clickable variant that acts as a button.
  complexity: composite

semantics:
  tag: div
  role: implicit
  role_conditional:
    "clickable=true": button

attributes:
  variant:
    type: enum
    values: [outlined, elevated, filled]
    default: outlined
    description: Visual style of the card. "outlined" uses a border, "elevated" uses a shadow, "filled" uses a background color.
  padding:
    type: enum
    values: [none, sm, md, lg]
    default: md
    description: Inner padding size of the card.
  hoverable:
    type: boolean
    default: false
    description: Whether to show hover visual feedback (shadow or background change). Automatically true when clickable is true.
  clickable:
    type: boolean
    default: false
    description: Whether the entire card acts as a clickable button. When true, role=button and tabIndex=0 are applied.

content:
  default:
    description: Container area for CardHeader, CardBody, and CardFooter sub-components.
    required: true
    type: node
    cardinality: multiple

states:
  idle:
    visual: Default card appearance based on variant.
    behavior: Acts as a static content container.
    aria: {}
  hovered:
    visual: Shadow or background change when hoverable=true.
    behavior: Cursor changes to pointer when clickable=true.
    aria: {}
  focused:
    visual: Focus ring displayed when clickable=true.
    behavior: Activatable via Enter or Space key.
    aria:
      role: button

interactions:
  activate:
    triggers: [click, Enter, Space]
    condition:
      all:
        - { attr: clickable, eq: true }
    effect: emit
    payload:
      event: MouseEvent | KeyboardEvent
    description: Activates the clickable card, triggering the click handler.

accessibility:
  aria:
    role: "button when clickable=true, otherwise implicit div"
  keyboard:
    Enter: "activate (only when clickable=true)"
    Space: "activate (only when clickable=true)"
  focus: When clickable=true, tabIndex=0 enables focus. Focus ring is displayed on focus.

visual_mapping:
  class: card
  data_attributes:
    data-variant:
      strategy: value-mapped
      source: variant
    data-padding:
      strategy: value-mapped
      source: padding
    data-hoverable:
      strategy: present-when-true
      source: hoverable
      note: Also present when clickable=true regardless of hoverable value
    data-clickable:
      strategy: present-when-true
      source: clickable

composition:
  layout: [CardHeader, CardBody, CardFooter]

  rendering:
    strategy: inline
    description: Rendered inline within the normal DOM flow.

  communication:
    pattern: props
    shared_state: []

  sub_components:
    - name: CardHeader
      tag: div
      description: Top region of the card for titles, icons, and action elements.
      required: false
      attributes:
        divider:
          type: boolean
          default: false
          description: Whether to display a divider line below the header.
      content:
        default:
          description: Header content such as title, subtitle, or action buttons.
          required: true
          type: node
      visual_mapping:
        class: card-header
        data_attributes:
          data-divider:
            strategy: present-when-true
            source: divider

    - name: CardBody
      tag: div
      description: Main content area of the card.
      required: true
      attributes: {}
      content:
        default:
          description: Primary card content.
          required: true
          type: node
      visual_mapping:
        class: card-body
        data_attributes: {}

    - name: CardFooter
      tag: div
      description: Bottom region of the card for action buttons and links.
      required: false
      attributes:
        divider:
          type: boolean
          default: false
          description: Whether to display a divider line above the footer.
        align:
          type: enum
          values: [start, center, end, between]
          default: start
          description: Horizontal alignment of footer content. "between" applies space-between.
      content:
        default:
          description: Footer content such as buttons or links.
          required: true
          type: node
      visual_mapping:
        class: card-footer
        data_attributes:
          data-divider:
            strategy: present-when-true
            source: divider
          data-align:
            strategy: value-mapped
            source: align
