component:
  name: IconButton
  category: atom
  complexity: simple
  description: Icon-only action button with square or circle shape, without visible text label

semantics:
  tag: button
  role: implicit

attributes:
  variant:
    type: enum
    values: [filled, outline, ghost]
    default: filled
    description: Visual style variant
  color:
    type: enum
    values: [primary, secondary, danger]
    default: primary
    description: Color theme
  size:
    type: enum
    values: [xs, sm, md, lg]
    default: md
    description: Button size
  shape:
    type: enum
    values: [square, circle]
    default: square
    description: Button shape (square or circular)
  disabled:
    type: boolean
    default: false
    description: Disabled state. Prevents interaction when true

content:
  default:
    description: Icon element (Icon component or inline SVG)
    required: true
    type: node
    cardinality: single

states:
  disabled:
    visual: Reduced opacity appearance
    behavior: Click events ignored, element remains focusable
    aria: { disabled: true }

interactions:
  activate:
    triggers: [click, Enter, Space]
    condition:
      all:
        - { attr: disabled, eq: false }
    effect: emit
    payload:
      event: MouseEvent
    description: Fires the activation action

accessibility:
  aria:
    label: "Required. Provides accessible name since no visible text label exists"
    disabled: "Handled via native disabled attribute"
  keyboard:
    Enter: activate
    Space: activate
  focus: "Default focus ring displayed. Remains focusable when disabled"

visual_mapping:
  class: icon-btn
  data_attributes:
    data-variant:
      strategy: value-mapped
      source: variant
    data-color:
      strategy: value-mapped
      source: color
    data-size:
      strategy: value-mapped
      source: size
    data-shape:
      strategy: value-mapped
      source: shape
    data-state:
      strategy: priority-enum
      priority:
        - { when: { attr: disabled, eq: true }, value: disabled }
      fallback: absent

composition:
  dependencies:
    atoms: [Icon]
