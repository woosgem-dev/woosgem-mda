component:
  name: Button
  category: atom
  complexity: simple
  description: Primary interaction button with multiple visual variants, color themes, and states

semantics:
  tag: button
  role: implicit

attributes:
  variant:
    type: enum
    values: [filled, outline, ghost, link]
    default: filled
    description: Visual style variant
  color:
    type: enum
    values: [primary, secondary, danger, success, warning, info]
    default: primary
    description: Color theme
  size:
    type: enum
    values: [xs, sm, md, lg]
    default: md
    description: Button size
  loading:
    type: boolean
    default: false
    description: Loading state indicator. Displays spinner and disables interaction when true
  disabled:
    type: boolean
    default: false
    description: Disabled state. Prevents interaction when true
  full-width:
    type: boolean
    default: false
    description: Stretches button to fill parent container width (100%)

content:
  default:
    description: Button label text, icon, or mixed content
    required: true
    type: node
    cardinality: single

states:
  loading:
    visual: Spinner displayed inside button, inner content rendered semi-transparent
    behavior: Click events ignored, native disabled attribute applied automatically
    aria: { busy: true, disabled: true }
  disabled:
    visual: Reduced opacity appearance
    behavior: Click events ignored, element remains focusable
    aria: { disabled: true }

interactions:
  activate:
    triggers: [click, Enter, Space]
    condition:
      all:
        - { attr: loading, eq: false }
        - { attr: disabled, eq: false }
    effect: emit
    payload:
      event: MouseEvent
    description: Fires the activation action

accessibility:
  aria:
    busy: "Set to true when loading state is active"
    disabled: "Handled via native disabled attribute when disabled or loading"
  keyboard:
    Enter: activate
    Space: activate
  focus: "Default focus ring displayed. Remains focusable when disabled"

visual_mapping:
  class: btn
  data_attributes:
    data-variant:
      strategy: value-mapped
      source: variant
    data-color:
      strategy: value-mapped
      source: color
    data-size:
      strategy: value-mapped
      source: size
    data-state:
      strategy: priority-enum
      priority:
        - { when: { attr: loading, eq: true }, value: loading }
        - { when: { attr: disabled, eq: true }, value: disabled }
      fallback: absent
    data-full-width:
      strategy: present-when-true
      source: full-width

composition:
  dependencies:
    atoms: [Spinner]
