# conventions/shared.yaml â€” Cross-framework common patterns

spec_to_code:
  - "Every code file must trace back to a spec section"
  - "Never add functionality not declared in the spec"
  - "Spec property names map to code prop/attribute names via platform schema"

error_handling:
  - "Validate props at development time only (dev mode warnings)"
  - "No runtime prop validation in production builds"
  - "Use TypeScript strict mode for compile-time safety"

testing:
  - "One test file per component"
  - "Test behavior, not implementation details"
  - "Test accessibility: role, label, keyboard navigation"
  - "Test all spec-declared states and behaviors"
  - "Use vitest + testing-library"

documentation:
  - "Component docs auto-generated from spec"
  - "Code comments only for non-obvious logic"
  - "No JSDoc for props (types serve as documentation)"

imports:
  - "Import shared tokens from @woosgem-dev/core"
  - "Import shared types from @woosgem-dev/core"
  - "No circular imports between components"
  - "No cross-domain internal imports"

tree_shaking:
  - "All exports must be tree-shakeable"
  - "No side effects in module scope (except Lit custom element registration)"
  - "Mark package.json sideEffects field accurately"
